<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Multi-Akun Panel Admin</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="app-sidebar">
            <div class="sidebar-logo">
                <i class="fab fa-telegram"></i>
                <h1>Auto Post</h1>
            </div>
            <nav class="sidebar-nav">
                <button id="tabAccounts" class="nav-btn active" data-tab="accounts">
                    <i class="fas fa-th-large"></i>
                    <span>Dashboard</span>
                </button>
                <button id="tabSend" class="nav-btn" data-tab="send">
                    <i class="fas fa-paper-plane"></i>
                    <span>Kirim Pesan</span>
                </button>
                <button id="tabJoin" class="nav-btn" data-tab="join">
                    <i class="fas fa-link"></i>
                    <span>Bulk Join</span>
                </button>
                <button id="tabSchedule" class="nav-btn" data-tab="schedule">
                    <i class="fas fa-clock"></i>
                    <span>Auto Schedule</span>
                </button>
                <button id="tabMedia" class="nav-btn" data-tab="media">
                    <i class="fas fa-photo-video"></i>
                    <span>Media & Caption</span>
                </button>
                <button id="tabSwap" class="nav-btn" data-tab="swap">
                    <i class="fas fa-user-cog"></i>
                    <span>Profil & Swap</span>
                </button>
                <button id="tabAnalytics" class="nav-btn" data-tab="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </button>
            </nav>
            <div class="sidebar-footer">
                GPA PROJECT v2.0
            </div>
        </aside>

        <div class="app-content-wrapper">
            <!-- Topbar -->
            <header class="app-topbar">
                <div class="topbar-info">
                    <h2 id="currentSectionTitle">Dashboard Overview</h2>
                    <span class="muted" style="font-size: 0.8rem;">Selamat datang kembali, Admin!</span>
                </div>
                <div class="topbar-actions" style="display: flex; gap: 15px; align-items: center;">
                    <!-- Background Process Indicator with Action -->
                    <div id="backgroundProcessIndicator" style="display: none; align-items: center; gap: 12px; padding: 8px 15px; background: rgba(79, 70, 229, 0.1); border-radius: 8px; color: var(--primary); cursor: pointer;">
                        <div style="width: 8px; height: 8px; border-radius: 50%; background: var(--primary); animation: pulse 1.5s infinite;"></div>
                        <span style="font-size: 0.85rem; font-weight: 500;" id="backgroundProcessText">Mengirim pesan...</span>
                        <button id="showModalBtn" type="button" style="background: none; border: none; color: var(--primary); cursor: pointer; padding: 4px 8px; font-weight: bold;" title="Buka modal">
                            <i class="fas fa-window-maximize"></i>
                        </button>
                    </div>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </header>

            <!-- Announcement Bar -->
            <div class="announcement-bar">
                <div class="announcement-content">
                    <span class="announcement-icon"><i class="fas fa-bullhorn"></i></span>
                    <div class="announcement-text">
                        <span>Top Up Diamond & Voucher Game Termurah? Hanya di GINSSTORE.ID Nikmati Penawaran Spesial
                            Setiap Hari</span>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <main class="app-main">
                <!-- Dashboard Section -->
                <section class="content-section active" id="sectionAccounts">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon primary"><i class="fas fa-users"></i></div>
                            <div class="stat-details">
                                <div class="stat-value" id="statTotalAccounts">0</div>
                                <div class="stat-label">Total Akun</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon success"><i class="fas fa-check-circle"></i></div>
                            <div class="stat-details">
                                <div class="stat-value" id="statTotalSuccess">0</div>
                                <div class="stat-label">Post Berhasil</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon info"><i class="fas fa-images"></i></div>
                            <div class="stat-details">
                                <div class="stat-value" id="statTotalMedia">0</div>
                                <div class="stat-label">Media Tersedia</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon warning"><i class="fas fa-exclamation-triangle"></i></div>
                            <div class="stat-details">
                                <div class="stat-value" id="statTotalFailed">0</div>
                                <div class="stat-label">Post Gagal</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon info"><i class="fas fa-calendar-alt"></i></div>
                            <div class="stat-details">
                                <div class="stat-value" id="statActiveSchedule">0</div>
                                <div class="stat-label">Jadwal Aktif</div>
                            </div>
                        </div>
                    </div>
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-users"></i>
                            <h2>Daftar Akun</h2>
                        </div>
                        <button id="refreshAccountsBtn" class="btn-icon" title="Refresh daftar akun">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>

                    <div class="cards-grid">
                        <!-- Accounts List Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-list"></i> Akun Terdaftar</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-container">
                                    <ul id="accountList" class="data-list">
                                        <li class="list-placeholder">
                                            <i class="fas fa-spinner fa-spin"></i>
                                            <span>Memuat akun...</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Add Account Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-user-plus"></i> Tambah Akun Manual</h3>
                            </div>
                            <div class="card-body">
                                <form id="addAccountForm" class="modern-form" autocomplete="off" novalidate>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="newId" class="form-label">
                                                <i class="fas fa-id-card"></i>
                                                ID Akun (unik)
                                            </label>
                                            <input type="text" id="newId" name="id" class="form-input" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="newPhone" class="form-label">
                                                <i class="fas fa-phone"></i>
                                                Nomor Telepon
                                            </label>
                                            <input type="text" id="newPhone" name="phone" class="form-input" required
                                                placeholder="+62...">
                                        </div>
                                        <div class="form-group">
                                            <label for="newApiId" class="form-label">
                                                <i class="fas fa-key"></i>
                                                API ID
                                            </label>
                                            <input type="number" id="newApiId" name="api_id" class="form-input"
                                                required>
                                        </div>
                                        <div class="form-group">
                                            <label for="newApiHash" class="form-label">
                                                <i class="fas fa-hashtag"></i>
                                                API Hash
                                            </label>
                                            <input type="text" id="newApiHash" name="api_hash" class="form-input"
                                                required>
                                        </div>
                                    </div>
                                    <div class="form-alert" role="alert" id="addAccountAlert"></div>
                                    <button type="submit" class="btn btn-primary btn-full">
                                        <span id="button-text">Kirim OTP</span>
                                        <div class="btn-spinner hidden">
                                            <div class="spinner-dots">
                                                <div></div>
                                                <div></div>
                                                <div></div>
                                            </div>
                                        </div>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- OTP Modal -->
                    <div id="otpModal" class="modal">
                        <div class="modal-backdrop"></div>
                        <div class="modal-container">
                            <div class="modal-header">
                                <h3><i class="fas fa-shield-alt"></i> Verifikasi OTP</h3>
                                <button id="closeOtpModal" class="btn-close">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id="verifyOtpForm" class="modern-form" autocomplete="off">
                                    <input type="hidden" id="otpAccountId" name="account_id">
                                    <div class="form-group">
                                        <label for="otpCode" class="form-label">Kode OTP</label>
                                        <input type="text" id="otpCode" name="code" class="form-input" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="otpPassword" class="form-label">Password 2FA (opsional)</label>
                                        <input type="password" id="otpPassword" name="password" class="form-input">
                                    </div>
                                    <div class="form-alert" role="alert" id="otpAlert"></div>
                                    <button type="submit" class="btn btn-primary btn-full">Verifikasi OTP</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Send Section -->
                <section class="content-section" id="sectionSend">
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-paper-plane"></i>
                            <h2>Kirim Pesan</h2>
                        </div>
                    </div>

                    <div class="cards-grid">
                        <!-- Send Form Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-cog"></i> Pengaturan Pengiriman</h3>
                            </div>
                            <div class="card-body">
                                <form id="sendForm" class="modern-form" autocomplete="off">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="groupSend" class="form-label">Group Username/ID (Utama)</label>
                                            <input type="text" id="groupSend" name="groupSend" class="form-input"
                                                placeholder="@groupname atau -1001234567890" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="groupSend2" class="form-label">Group Username/ID (Kedua —
                                                opsional)</label>
                                            <input type="text" id="groupSend2" name="groupSend2" class="form-input"
                                                placeholder="@groupname2 atau -1001234567890 (kosongkan jika tidak perlu)" />
                                        </div>
                                        <div class="form-group">
                                            <label for="strategy" class="form-label">Strategi pemilihan media</label>
                                            <select id="strategy" name="strategy" class="form-select" required>
                                                <option value="sequential" selected>Sequential</option>
                                                <option value="random">Random</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="delaySend" class="form-label">Jeda Kirim per Akun
                                                (menit)</label>
                                            <input type="number" id="delaySend" name="delaySend" class="form-input"
                                                value="1" min="1" max="60" step="0.1" required>
                                        </div>
                                    </div>
                                    <div class="form-group upload-group">
                                        <label class="form-label">Upload Media (gambar)</label>
                                        <input type="file" id="uploadMediaInput" accept="image/*" multiple>
                                        <button type="button" id="uploadMediaBtn" class="btn btn-outline">Upload
                                            Media</button>
                                        <div id="uploadMediaStatus" class="form-alert" role="status"></div>
                                    </div>
                                    <div class="form-group upload-group">
                                        <label class="form-label">Upload Captions (captions.txt)</label>
                                        <input type="file" id="uploadCaptionsInput" accept="text/plain">
                                        <button type="button" id="uploadCaptionsBtn" class="btn btn-outline">Upload
                                            Captions</button>
                                        <div id="uploadCaptionsStatus" class="form-alert" role="status"></div>
                                    </div>
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary">Kirim Semua</button>
                                        <button type="button" id="previewAssignBtn" class="btn btn-secondary">Preview
                                            Penugasan</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- Assignment Preview Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-list-check"></i> Preview Penugasan</h3>
                            </div>
                            <div class="card-body">
                                <div class="info-banner">
                                    <i class="fas fa-info-circle"></i>
                                    <span>Tekan "Preview Penugasan" untuk melihat penugasan akun → file</span>
                                </div>
                                <div class="list-container">
                                    <ul id="assignmentList" class="data-list">
                                        <li class="list-placeholder">Tekan "Preview Penugasan" untuk melihat.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Media Section -->
                <section class="content-section" id="sectionMedia">
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-photo-video"></i>
                            <h2>Daftar Media & Caption</h2>
                        </div>
                        <button id="refreshMediaBtn" class="btn-icon" title="Refresh daftar media">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-images"></i> Media Tersedia</h3>
                        </div>
                        <div class="card-body">
                            <div class="info-banner">
                                <i class="fas fa-info-circle"></i>
                                <span>Media yang sudah ditandai posted tidak akan muncul di sini</span>
                            </div>
                            <div class="list-container">
                                <ul id="mediaList" class="data-list media-grid">
                                    <li class="list-placeholder">
                                        <i class="fas fa-spinner fa-spin"></i>
                                        <span>Memuat media...</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Bulk Join Section -->
                <section class="content-section" id="sectionJoin">
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-link"></i>
                            <h2>Auto-Join dari Daftar Link</h2>
                        </div>
                    </div>

                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-paste"></i> Masukkan Daftar Link</h3>
                            </div>
                            <div class="card-body">
                                <form id="bulkJoinForm" class="modern-form">
                                    <div class="form-group">
                                        <label class="form-label">Daftar Link Grup/Channel (1 link per baris)</label>
                                        <textarea id="joinLinks" class="form-textarea" rows="8"
                                            placeholder="https://t.me/username1&#10;@username2&#10;https://t.me/joinchat/..."></textarea>
                                    </div>
                                    <div class="form-group" style="max-width: 300px;">
                                        <label class="form-label">Jeda antar Akun (detik)</label>
                                        <input type="number" id="joinDelay" class="form-input" value="5" min="2">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Pilih Akun yang akan Digunakan</label>
                                        <div class="multi-select-container" id="joinAccountSelect">
                                            <!-- Will be populated via JS -->
                                        </div>
                                    </div>
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary">Mulai Join Masal</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-tasks"></i> Progres Join</h3>
                            </div>
                            <div class="card-body">
                                <div id="joinLog" class="log-container">
                                    <div class="muted">Belum ada aktivitas.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Auto Schedule Section -->
                <section class="content-section" id="sectionSchedule">
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-clock"></i>
                            <h2>Auto Schedule Bot</h2>
                        </div>
                    </div>

                    <div class="schedule-layout"
                        style="display: grid; grid-template-columns: 1fr 380px; gap: 30px; align-items: start;">
                        <!-- Main Content: Form -->
                        <div class="main-column">
                            <div class="card premium-card">
                                <div class="card-header"
                                    style="background: linear-gradient(135deg, var(--primary) 0%, #4f46e5 100%); color: var(--white);">
                                    <h3><i class="fas fa-plus-circle"></i> Buat Penjadwalan Bot Baru</h3>
                                </div>
                                <div class="card-body" style="padding: 25px;">
                                    <form id="scheduleForm" class="modern-form">
                                        <div class="form-grid"
                                            style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                            <div class="form-group">
                                                <label class="form-label">Target Chat (@username/ID)</label>
                                                <input type="text" id="schedTarget" class="form-input"
                                                    placeholder="@username atau -100..." required>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Waktu Kirim (WIB)</label>
                                                <input type="time" id="schedTime" class="form-input">
                                                <small class="muted" style="font-size: 0.7rem;">*Hanya wajib jika ingin
                                                    dijadwalkan.</small>
                                            </div>
                                        </div>

                                        <div class="form-group" style="margin-bottom: 20px;">
                                            <label class="form-label">Pesan & Media</label>
                                            <div class="media-input-box"
                                                style="background: var(--gray-50); padding: 20px; border-radius: 12px; border: 1px dashed var(--gray-300);">
                                                <div class="form-group">
                                                    <label class="form-label"
                                                        style="font-size: 0.8rem; opacity: 0.8;">Upload Gambar</label>
                                                    <input type="file" id="schedImageFile" class="form-input"
                                                        accept="image/*" required style="background: var(--white);">
                                                </div>
                                                <div class="form-group" style="margin-top: 15px;">
                                                    <label class="form-label"
                                                        style="font-size: 0.8rem; opacity: 0.8;">Caption Promosi</label>
                                                    <textarea id="schedCaption" class="form-textarea" rows="4"
                                                        placeholder="Tulis caption iklan kamu..." required
                                                        style="background: var(--white);"></textarea>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group" style="margin-bottom: 20px;">
                                            <label class="form-label">Pengaturan Bot & Interaksi</label>
                                            <div
                                                style="background: var(--gray-50); padding: 20px; border-radius: 12px; border: 1px solid var(--gray-200);">
                                                <div class="form-group">
                                                    <label class="form-label" style="font-size: 0.8rem;">Bot Token
                                                        (@BotFather)</label>
                                                    <div style="display: flex; gap: 10px;">
                                                        <input type="text" id="schedBotToken" class="form-input"
                                                            placeholder="Masukkan token bot kamu..." required
                                                            style="background: var(--white);">
                                                        <button type="button" id="saveBotTokenBtn"
                                                            class="btn btn-secondary" style="white-space: nowrap;">
                                                            <i class="fas fa-save"></i> Save Persistent
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="form-grid"
                                                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                                                    <div class="form-group">
                                                        <label class="form-label" style="font-size: 0.8rem;">Ulangi
                                                            Harian?</label>
                                                        <select id="schedRepeat" class="form-select"
                                                            style="background: var(--white);">
                                                            <option value="yes">Setiap Hari</option>
                                                            <option value="no">Sekali Saja</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="form-label" style="font-size: 0.8rem;">Tombol URL
                                                            Muncul di Bawah Iklan</label>
                                                        <div id="buttonsContainer" style="background: var(--white); border-radius: 8px; padding: 10px;">
                                                            <!-- Buttons will be added here dynamically -->
                                                        </div>
                                                        <button type="button" id="addButtonBtn" class="btn btn-outline btn-sm" style="margin-top: 10px;">
                                                            <i class="fas fa-plus"></i> Tambah Tombol
                                                        </button>
                                                        <small class="muted"
                                                            style="font-size: 0.7rem; display: block; margin-top: 5px;">Tambahkan tombol dengan judul dan URL terpisah</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-actions"
                                            style="display: flex; gap: 15px; margin-top: 30px; border-top: 1px solid var(--gray-200); padding-top: 20px;">
                                            <button type="button" id="testBotMsgBtn" class="btn btn-secondary"
                                                style="flex: 1; height: 50px;">
                                                <i class="fas fa-paper-plane"></i> Test Kirim Sekarang
                                            </button>
                                            <button type="submit" class="btn btn-primary"
                                                style="flex: 1.5; height: 50px; font-weight: 600;">
                                                <i class="fas fa-calendar-check"></i> Aktifkan Jadwal Rutin
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Sidebar: Tutorial & Active Schedules -->
                        <div class="sidebar-column" style="display: flex; flex-direction: column; gap: 30px;">
                            <!-- Active List -->
                            <div class="card list-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-tasks"></i> Jadwal Berjalan</h3>
                                </div>
                                <div class="card-body" style="padding: 0;">
                                    <div class="list-container" style="max-height: 350px;">
                                        <ul id="scheduleList" class="data-list" style="margin: 0; border: none;">
                                            <li class="list-placeholder" style="padding: 40px; text-align: center;">
                                                Belum ada jadwal aktif</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Simplified Tutorial -->
                            <div class="card tutorial-card" style="border-left: 4px solid var(--warning);">
                                <div class="card-header">
                                    <h3><i class="fas fa-lightbulb"></i> Bot Setup Guide</h3>
                                </div>
                                <div class="card-body" style="padding: 20px;">
                                    <div class="guide-steps" style="display: flex; flex-direction: column; gap: 15px;">
                                        <div class="guide-item" style="display: flex; gap: 12px;">
                                            <span
                                                style="background: var(--primary); color: var(--white); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; flex-shrink: 0;">1</span>
                                            <p style="font-size: 0.9rem;">Chat <b>@BotFather</b> kirim
                                                <code>/newbot</code>
                                            </p>
                                        </div>
                                        <div class="guide-item" style="display: flex; gap: 12px;">
                                            <span
                                                style="background: var(--primary); color: var(--white); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; flex-shrink: 0;">2</span>
                                            <p style="font-size: 0.9rem;">Copy <b>API Token</b> ke kolom di kiri.</p>
                                        </div>
                                        <div class="guide-item" style="display: flex; gap: 12px;">
                                            <span
                                                style="background: var(--primary); color: var(--white); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; flex-shrink: 0;">3</span>
                                            <p style="font-size: 0.9rem;">Masukkan Bot ke grup & jadikan <b>Admin</b>.
                                            </p>
                                        </div>
                                    </div>
                                    <div
                                        style="margin-top: 15px; padding: 12px; background: rgba(245, 158, 11, 0.15); border-radius: 8px; border: 1px solid rgba(245, 158, 11, 0.3);">
                                        <p style="font-size: 0.8rem; color: var(--warning);"><i
                                                class="fas fa-shield-alt"></i>
                                            API ID/Hash akan otomatis dipakai dari akun kamu.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section class="content-section" id="sectionAnalytics">
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-chart-bar"></i>
                            <h2>Laporan Analytics</h2>
                        </div>
                        <div class="section-actions">
                            <button id="refreshAnalyticsBtn" class="btn-icon" title="Refresh laporan">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button id="clearAnalyticsBtn" class="btn btn-outline btn-sm"
                                title="Hapus semua data analytics">
                                <i class="fas fa-trash"></i> Hapus Data
                            </button>
                        </div>
                    </div>

                    <div class="cards-grid">
                        <!-- Filter Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-filter"></i> Filter Laporan</h3>
                            </div>
                            <div class="card-body">
                                <form id="analyticsFilterForm" class="modern-form">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="analyticsGroupA" class="form-label">Group A (Utama)</label>
                                            <input type="text" id="analyticsGroupA" class="form-input"
                                                placeholder="@groupname atau -1001234567890">
                                        </div>
                                        <div class="form-group">
                                            <label for="analyticsGroupB" class="form-label">Group B (Kedua)</label>
                                            <input type="text" id="analyticsGroupB" class="form-input"
                                                placeholder="@groupname2 atau -1001234567890">
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-full">
                                        <i class="fas fa-search"></i> Tampilkan Laporan
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Summary Stats Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-chart-pie"></i> Ringkasan Statistik</h3>
                            </div>
                            <div class="card-body">
                                <div id="analyticsSummary" class="analytics-summary">
                                    <div class="stat-item">
                                        <div class="stat-label">Total Log</div>
                                        <div class="stat-value" id="totalLogs">0</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Akun Berhasil (Keduanya)</div>
                                        <div class="stat-value success" id="successBoth">0</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Akun Gagal Total</div>
                                        <div class="stat-value danger" id="failedBoth">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Successful Accounts Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-check-circle"></i> Akun Berhasil (Group A & B)</h3>
                            </div>
                            <div class="card-body">
                                <div class="info-banner success">
                                    <i class="fas fa-info-circle"></i>
                                    <span>Akun yang berhasil mengirim ke kedua grup</span>
                                </div>
                                <div class="list-container">
                                    <ul id="successfulAccountsList" class="data-list">
                                        <li class="list-placeholder">
                                            <i class="fas fa-spinner fa-spin"></i>
                                            <span>Memuat data...</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Failed Accounts Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-times-circle"></i> Akun Gagal Total</h3>
                            </div>
                            <div class="card-body">
                                <div class="info-banner danger">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <span>Akun yang gagal mengirim ke kedua grup - kemungkinan tidak bisa
                                        digunakan</span>
                                </div>
                                <div class="list-container">
                                    <ul id="failedAccountsList" class="data-list">
                                        <li class="list-placeholder">
                                            <i class="fas fa-spinner fa-spin"></i>
                                            <span>Memuat data...</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Partial Success Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-exclamation-triangle"></i> Akun Berhasil Sebagian</h3>
                            </div>
                            <div class="card-body">
                                <div class="info-banner warning">
                                    <i class="fas fa-info-circle"></i>
                                    <span>Akun yang berhasil ke salah satu grup saja</span>
                                </div>
                                <div class="list-container">
                                    <ul id="partialSuccessList" class="data-list">
                                        <li class="list-placeholder">
                                            <i class="fas fa-spinner fa-spin"></i>
                                            <span>Memuat data...</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- All Accounts Details Card -->
                        <div class="card card-full">
                            <div class="card-header">
                                <h3><i class="fas fa-list-alt"></i> Detail Semua Akun</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-container">
                                    <ul id="allAccountsDetailsList" class="data-list">
                                        <li class="list-placeholder">
                                            <i class="fas fa-spinner fa-spin"></i>
                                            <span>Memuat data...</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Swap Section -->
                <section class="content-section" id="sectionSwap">
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-sync-alt"></i>
                            <h2>Swap Profil Telegram</h2>
                        </div>
                    </div>

                    <div class="cards-grid">
                        <!-- Accounts Status Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-info-circle"></i> Status Akun Swap</h3>
                            </div>
                            <div class="card-body">
                                <div class="list-container">
                                    <ul id="swapAccountList" class="data-list">
                                        <li class="list-placeholder">
                                            <i class="fas fa-spinner fa-spin"></i>
                                            <span>Memuat akun...</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Update Name Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-user-edit"></i> Update Nama & Username</h3>
                            </div>
                            <div class="card-body">
                                <form id="swapFormName" class="modern-form" autocomplete="off">
                                    <div class="form-group">
                                        <label class="form-label">Pilih Akun</label>
                                        <select id="swapAccountIdName" class="form-select" required>
                                            <option value="">Pilih akun...</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="swapFirstName" class="form-input"
                                            placeholder="Nama depan baru">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="swapLastName" class="form-input"
                                            placeholder="Nama belakang baru">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="swapUsername" class="form-input"
                                            placeholder="Username baru">
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-full">Update Profil</button>
                                    <div class="form-alert" id="swapStatusName" role="alert"></div>
                                </form>
                            </div>
                        </div>

                        <!-- Update Photo Card -->
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-camera"></i> Update Foto Profil</h3>
                            </div>
                            <div class="card-body">
                                <form id="swapFormPhoto" class="modern-form" autocomplete="off"
                                    enctype="multipart/form-data">
                                    <div class="form-group">
                                        <label class="form-label">Pilih Akun</label>
                                        <select id="swapAccountIdPhoto" class="form-select" required>
                                            <option value="">Pilih akun...</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <div class="file-upload-area" id="fileUploadArea">
                                            <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                            <div class="upload-text">
                                                <span class="upload-title">Klik untuk upload foto</span>
                                                <span class="upload-subtitle">atau drag & drop file di sini</span>
                                            </div>
                                            <input type="file" id="swapPhoto" class="file-input" accept="image/*">
                                        </div>
                                        <div id="fileName" class="file-name-display"></div>
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-full">Update Foto</button>
                                    <div class="form-alert" id="swapStatusPhoto" role="alert"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <!-- Floating Status Card with Overlay (Center Modal) -->
            <div id="sendLoadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1999; opacity: 0; transition: opacity 0.3s ease;"></div>
            <div id="sendLoading" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 2000; animation: slideIn 0.3s ease-out;">
                <div class="loading-card" style="box-shadow: 0 10px 40px rgba(0,0,0,0.2); min-width: 400px;">
                    <div class="loading-spinner-large" id="loadingSpinner">
                        <div class="spinner-ring"></div>
                    </div>
                    <h3 id="sendLoadingText">Sedang mengirim...</h3>
                    <p id="sendProgress" class="loading-progress"></p>
                    <div id="successMessage" style="display: none; text-align: center;">
                        <div style="color: var(--success); font-size: 48px; margin-bottom: 10px;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h4 style="color: var(--success); margin: 10px 0;">Pengiriman Selesai!</h4>
                        <p style="color: var(--gray-600); font-size: 0.9rem;" id="successDetails"></p>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button id="cancelSend" class="btn btn-outline" style="flex: 1;">
                            <i class="fas fa-times"></i> Batalkan
                        </button>
                        <button id="minimizeSend" class="btn btn-outline" style="flex: 1;">
                            <i class="fas fa-minus"></i> Sembunyikan
                        </button>
                        <button id="closeSend" class="btn btn-primary" style="flex: 1; display: none;">
                            <i class="fas fa-check"></i> Selesai
                        </button>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="app-footer">
                <p>Designed & Developed by GPA PROJECT</p>
            </footer>
        </div>

        <script src="/static/script.js"></script>
</body>

</html>